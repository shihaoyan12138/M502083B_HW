# 本地 AI 智能文献与图像管理助手 (Local Multimodal AI Agent)

## Author：石灏岩 Student Number：25120361

## 1. 项目简介
本地化部署大模型，实现所有作业要求功能，并具有一定鲁棒性。

## 2. 核心功能实现
本章介绍并展示各功能，包括要求与我的创新型设计。

### 2.1 智能文献管理
文本模型使用推荐的"all-MiniLM-L6-v2"。

### 2.1.1 语义搜索
search_paper方法实现了如下功能：
1. 检索数据库中所有文件。
2. 创新设计：寻找与问题关联度前三的文件。
3. 创新设计：定义温度系数T：温度越高，分数越平均；决定前三名的差距。
4. 鲁棒性设计：依序返回文件名称与关联度分数。好处在于，可能有多项文章均与问题高度相关，亦可能数据库中文件均与问题无关，回答Top-3与关联分数可以解决上述问题。 
样例如下：
图1
User：transformer架构的核心思想是什么？
Assistant：返回关联性最强的前三项结果，最接近的是 transformer.pdf。

### 2.1.2 单文件处理——添加论文
add_paper方法实现了如下功能：
1. 当论文具有唯一topic时，可以将论文放入该分类下，并将论文标注为此topic，最终加入数据库。
2. 当论文具有多项topics时，可以同时将论文放入多个分类下，并将论文标注为多个topics，最终加入数据库。
3. 创新设计：当用户不确定当前论文具有哪些topics时，可以不指定topic，或指定topic为"unknown"。此论文会放入unknown文件夹中，并不加入数据库。
4. 鲁棒性设计：当某个类别中已经存在当前文件，重复操作不会引发系统报错。

样例如下：
图2，图3
依次将RL.pdf，alexnet.pdf，transformer.pdf，resnet.pdf加入RL，CV，NLP，unknown分类

### 2.1.3 批量整理
batch_classify方法实现了如下功能：
1. 遍历所有处于“unknown”文件中的文件
2. 对每个文件，计算数据库中与其关联度最高的论文。
3. 将当前文件的topic划分为至其关联度最高论文的分类下。
4. 创新设计：仅对"unknown"文件夹进行整理，用户已经分类好的文件不会被整理。
5. 鲁棒性设计：由于只是关联度最高，因此结果不一定准确。为保证数据库不被污染，整理的论文不放入数据库。

样例如下：
图4
将"unknown"文件夹中的resnet.pdf归类至CV中。

### 2.1.4 文件索引
复用search_paper方法，将问题改为核心词。样例如下：
图5
User：查询"attention"。                  
Assistant：返回关联性最强的前三项结果，最接近的是 transformer.pdf。
                                                          
## 2.2 智能图像管理
视觉模型使用推荐的"ViT-B/32"。支持通过自然语言描述（如“海边的日落”）来查找本地图片库中最匹配的图像。

样例如下：
图6
User：man
Assistant：返回关联性最强的前三项结果，最接近的是jzx.jpg（我的好朋友）而非cat.jpg。
